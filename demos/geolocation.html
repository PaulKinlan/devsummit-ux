<!DOCTYPE html>
<html>
  <head>
    <title>Mobile Geolocation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css">
    <style>
      body { padding: 10px;}
    </style>
  </head>
  <body>
    <h1>Geolocation</h1>
    <p>The `navigator.geolocation` namespace lets the site or app determine the users location.</p>
    <h2>Get Location</h2> 
    <p>
      <div>Latitude: <span id="findlat"></span></div>
      <div>Longitude: <span id="findlong"></span></div>
    </p>
    <p><button class="btn btn-primary" id="find">Find me</button></p>
    <h2>Watch Location</h2>
    <p>
      <div>Accuracy: <span id="watchacc"></span></div>
      <div>Latitude: <span id="watchlat"></span></div>
      <div>Longitude: <span id="watchlong"></span></div>
    </p>
    <p><button class="btn btn-primary" id="watch">Watch me</button> <button class="btn btn-warning" id="clearwatch">Clear watch</button></p>
 
    <h2>Code</h2>
    <script style="display: block;white-space: pre; font-family: monospace;">onload = function() {
  var find = document.getElementById("find");
  var watch = document.getElementById("watch");

  find.onclick = function() {
    var success = function(pos) {
      var findlat = document.getElementById("findlat");
      var findlong = document.getElementById("findlong");
      
      var latitude = pos.coords.latitude;
      var longitude = pos.coords.longitude;
    
      findlat.innerText = latitude;
      findlong.innerText = longitude;
    };
  
    navigator.geolocation.getCurrentPosition(success);
  };

  watch.onclick = function() {
    var success = function(pos) {
      var watchlat = document.getElementById("watchlat");
      var watchlong = document.getElementById("watchlong");
      var watchacc = document.getElementById("watchacc");
      
    
      watchacc.innerText =  pos.coords.accuracy;
      watchlat.innerText =  pos.coords.latitude;
      watchlong.innerText = pos.coords.longitude;
    };
  
    clearwatch.onclick = function() {
      if(watchId > 0) 
        navigator.geolocation.clearPosition(watchId);
    };
  
    var watchId = navigator.geolocation.watchPosition(success);
  };
};
    </script>
  </body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40858405-1', 'mobile-html.appspot.com');
    ga('send', 'pageview');

  </script>
</html>